---
title: "Tracking Indonesia's recovery from COVID-19 pandemic"
output: html_document
knit: (function(input_file, encoding) {
  out_dir <- 'docs';
  rmarkdown::render(input_file,
 encoding=encoding,
 output_file=file.path(dirname(input_file), out_dir, 'index.html'))})
---

<br>  

Indicators                                   | Latest          | 2020  
-------------------------------------------- | --------------- | -----------------  
GDP (percent change on a year earlier)       | -3.49 (Q3)      | -2.2*  
Inflation (percent change on a year earlier) | 1.4 (Oct)       | 1.9*  
Unemployment rate (percent)                  | 7.07 (Aug)      | 9.2<sup>†</sup>   
Poverty rate (percent)                       | 9.78 (Mar) | 12.37<sup>‡</sup>  

<i style="color: #a9a9a9;font-size: 10px;">Note: *The Economist Intelligence Unit's forecast <sup>†</sup>Indonesian government's worst-case scenario projection <sup>‡</sup> SMERU Research Institute's worst-case scenario projection</i>

<br>  

```{r setup, echo = F}
knitr::opts_chunk$set(
  echo = F,
  message = F,
  warning = F
)
```


# Explore {.tabset .tabset-pills}

## GDP

```{r growth plot}
source("script/growth_script.R", local = knitr::knit_global())

growth_plot
```


## Consumer confidence

```{r CCI plot}
source("script/cci_script.R", local = knitr::knit_global())

CCI_plot
```


## Retail sales

```{r SPE plot}
source("script/spe_script.R", local = knitr::knit_global())

SPE_plot
```


## Mobility {.tabset}

### National

```{r national mobility plot}
source("script/mob-ntl_script.R", local = knitr::knit_global())

mob_ntl_plot
```


### Regional

```{r regional mobility plot}
source("script/mob-prov_script.R", local = knitr::knit_global())

# Arrange views
bscols(
  mob_prov_fil,
  mob_prov_plot,
  widths = c(12, 12)
)
```

```{js set default value for regional mobility plot}
function filter_default() {
    document.getElementById("Province_filter").getElementsByClassName("selectized")[0].selectize.setValue("Jakarta");
}
window.onload = filter_default;
```