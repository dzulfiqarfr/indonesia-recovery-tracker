---
title: "Tracking Indonesia's recovery from COVID-19 pandemic"
output: html_document
knit: (function(input_file, encoding) {
  out_dir <- 'docs';
  rmarkdown::render(input_file,
 encoding=encoding,
 output_file=file.path(dirname(input_file), out_dir, 'index.html'))})
---

<br><br>  

Indicators                                   | Latest          | 2020  
-------------------------------------------- | --------------- | -----------------  
GDP (percent change on a year earlier)       | -3.49 (Q3)      | -2.2*  
Inflation (percent change on a year earlier) | 1.4 (Oct)       | 1.9*  
Unemployment rate (percent)                  | 7.07 (Aug)      | 9.2<sup>†</sup>   
Poverty rate (percent)                       | 9.78 (Mar) | 12.37<sup>‡</sup>  

<i style="color: #a9a9a9;font-size: 10px;">Note: *The Economist Intelligence Unit's forecast <sup>†</sup>Indonesian government's worst-case scenario projection <sup>‡</sup> SMERU Research Institute's worst-case scenario projection</i>

<br><br>  

# Explore {.tabset .tabset-pills}

## GDP

<iframe width="700" height="400" frameborder="0" scrolling="no" src="https://plotly.com/~dzulfiqarfr/5.embed?autosize=false&link=false&modebar=false"></iframe>

## Consumer confidence

<iframe width="700" height="400" frameborder="0" scrolling="no" src="https://plotly.com/~dzulfiqarfr/7.embed?autosize=false&link=false&modebar=false"></iframe>

## Retail sales

<iframe width="700" height="400" frameborder="0" scrolling="no" src="https://plotly.com/~dzulfiqarfr/9.embed?autosize=false&link=false&modebar=false"></iframe>

## Mobility {.tabset}

### National

```{r, echo = F, message = F, warning = F}
source("script/mob-ntl_script.R", local = knitr::knit_global())

mob_ntl_plot
```


### Regional

```{r echo = F, message = F, warning = F}
source("script/mob-prov_script.R", local = knitr::knit_global())

# Arrange views
bscols(
  mob_prov_fil,
  mob_prov_plot,
  widths = c(12, 12)
)
```

```{js set default value, echo = F}
function filter_default() {
    document.getElementById("Province_filter").getElementsByClassName("selectized")[0].selectize.setValue("Jakarta");
}
window.onload = filter_default;
```